# Лекція 3. Основні конструкції мови РНР. Цикли. Масиви

[Перелік лекцій](../README.md)

## Цикли

В PHP існує кілька конструкцій, що дозволяють виконувати повторювані дії залежно від умови. Це цикли `while`, `do..while`, `foreach` і `for`. Розглянемо їх детальніше.

## Цикл while

Структура:
```php
while (вираз) { блок_виконання }
```
або
```php
while (вираз): блок_виконання endwhile;
```

`while` — це простий цикл. Він змушує PHP виконувати команди блоку до тих пір, поки вираз обчислюється як `True`. Значення виразу перевіряється кожного разу на початку циклу, тому навіть якщо його значення зміниться під час виконання блоку, цикл не зупиниться до кінця ітерації.

```php
<?php
// ця програма виведе всі парні цифри
$i = 1;
while ($i < 10) {
    if ($i % 2 == 0) print $i;  
    // виводимо цифру, якщо вона парна 
    $i++;   
    // збільшуємо $i на одиницю
}
?>
```

## Цикл do...while

Цикли `do..while` дуже схожі на цикли `while`, з тією лише різницею, що істинність виразу перевіряється наприкінці циклу, а не на початку. Завдяки цьому блок виконується хоча б один раз.

Структура:
```php
do { блок_виконання } while (вираз);
```

```php
<?php
// ця програма виведе число 12, незважаючи на те, 
// що умова циклу не виконується
$i = 12;
do {
    if ($i % 2 == 0) print $i;  
    // якщо число парне, то виводимо його
    $i++;   
    // збільшуємо число на одиницю
} while ($i < 10)
?>
```

### for

Це найскладніші цикли в PHP, вони схожі на цикли в C.

Структура:
```php
for (вираз1; вираз2; вираз3) { блок_виконання }
```
або
```php
for (вираз1; вираз2; вираз3): блок_виконання endfor;
```

У цій конструкції вираз складається з трьох частин. Перше вираз обчислюється безумовно один раз на початку циклу. На початку кожної ітерації обчислюється друге вираз. Якщо воно є `True`, цикл продовжується і виконуються всі команди блоку. Якщо вираз обчислюється як `False`, то цикл припиняється. Після виконання блоку виконується третє вираз.

```php
<?php
for ($i = 0; $i < 10; $i++) {
    if ($i % 2 == 0) print $i;  
    // виводимо парні числа
}
?>
```

Можна пропустити друге вираз, використовуючи оператор `break` для зупинки циклу:
```php
<?php
for ($i = 0; ; $i++) {
    if ($i >= 10) break;  
    if ($i % 2 == 0) print $i;  
}
?>
```

## Цикл foreach

Це спеціальна конструкція для роботи з масивами, яка з'явилася в PHP4.

Синтаксис:
```php
foreach ($array as $value) { блок_виконання }
```
або
```php
foreach ($array as $key => $value) { блок_виконання }
```

У першому випадку цикл проходить по всіх елементах масиву, на кожному кроці поточне значення елемента записується в змінну `$value`. У другому варіанті можна також отримати ключ поточного елемента.

```php
<?php
$names = array("Іван", "Петро", "Семен");
foreach ($names as $val) {
    echo "Привіт, $val<br>";
}
foreach ($names as $k => $val) {
    echo "Привіт, $val! Ти в списку під номером $k<br>";
}
?>
```
