# Лекція 2. Основні конструкції мови РНР. Умовниі оператор

[Перелік лекцій](../README.md)

## Типи даних




## Оператор if
Це один із найважливіших операторів багатьох мов програмування, включно з PHP. Він дозволяє виконувати фрагменти коду залежно від умови. Структуру оператора if можна представити таким чином:

```
if (вираз) блок_виконання
```

Тут вираз — це будь-який правильний PHP-вираз (тобто все, що має значення). Під час обробки скрипта вираз перетворюється на логічний тип. Якщо в результаті перетворення значення виразу істинне (True), то виконується блок_виконання. В іншому випадку блок_виконання ігнорується. Якщо блок_виконання містить кілька команд, то він має бути укладений у фігурні дужки { }.
Правила перетворення виразу на логічний тип:

У FALSE перетворюються такі значення:
- логічне False
- цілий нуль (0)
- дійсний нуль (0.0)
- порожній рядок і рядок "0"
- масив без елементів
- об'єкт без змінних (детальніше про об'єкти буде розказано в одній із наступних лекцій)
- спеціальний тип NULL
Усі інші значення перетворюються на TRUE.

```php
<?php  
$names = array("Іван","Петро","Семен");  
if ($names[0]=="Іван") {  
    echo "Привіт, Ваня!";  
    $num = 1;  
    $account = 2000;  
}  
if ($num) echo "Іван перший у списку!";  
$bax = 30;  
if ($account > 100*$bax+3)  
    echo "Цей рядок не з'явиться  
    на екрані, оскільки умова не виконана";  
?>
```

## Оператор else
Ми розглянули тільки одну, основну частину оператора if. Існує кілька розширень цього оператора. Оператор else розширює if на випадок, якщо вираз у if є неправильним, і дозволяє виконати якісь дії за таких умов.

Структуру оператора if, розширеного за допомогою оператора else, можна представити так:

```
if (вираз) блок_виконання
else блок_виконання1
```

Цю конструкцію if...else можна інтерпретувати приблизно так: якщо умова виконана (тобто вираз = true), то виконуються дії з блок_виконання, інакше — дії з блок_виконання1. Використовувати оператор else не обов'язково.

Подивимося, як можна змінити попередній приклад, враховуючи необхідність дій у разі невиконання умови.

```php
<?php  
$names = array("Іван","Петро","Семен");  
if ($names[0]=="Іван") {  
    echo "Привіт, Ваня!";  
    $num = 1;  
    $account = 2000;  
} else {  
    echo "Привіт, $names[0].  
    А ми чекали Ваню :(";  
}  
if ($num) echo "Іван перший у списку!";  
else echo "Іван НЕ перший у списку?!";  
$bax = 30;  
if ($account > 100*$bax+3)  
    echo "Цей рядок не з'явиться на екрані,  
    оскільки умова не виконана";  
else echo "Зате з'явиться цей рядок!";  
?>
```

## Оператор elseif
Ще один спосіб розширення умовного оператора if — використання оператора elseif. elseif — це комбінація else та if. Як і else, він розширює if для виконання різних дій у тому випадку, якщо умова, що перевіряється в if, є неправильною. Але на відміну від else, альтернативні дії будуть виконані тільки якщо elseif-умова є правильною.

Структуру оператора if, розширеного за допомогою операторів else та elseif, можна представити так:

```
if (вираз) блок_виконання
elseif(вираз1) блок_виконання1
...
else блок_виконанняN
```

Операторів elseif може бути кілька в одному if-блоці. Elseif-утвердження буде виконане, тільки якщо попередня if-умова є False, усі попередні elseif-умови є False, а поточна elseif-умова — True.

```php
<?php  
$names = array("Іван","Петро","Семен");  
if ($names[0]=="Іван") {    
    // якщо перше ім'я в масиві Іван  
    echo "Привіт, Ваня!";  
}elseif ($names[0] == "Петро"){  
    // якщо перше ім'я не Іван, а Петро  
    echo "Привіт, Петя!";  
}elseif ($names[0] == "Семен"){     
    // якщо перше ім'я не Іван, не Петро, а Семен  
    echo "Привіт, Сеня!";  
}else {  
    // якщо перше ім'я не Іван, не Петро і не Семен  
    echo "Привіт, $names[0]. А ти хто такий?";  
}  
?>
```

## Альтернативний синтаксис
PHP пропонує альтернативний синтаксис для деяких своїх керуючих структур, а саме для if, while, for, foreach і switch. У кожному випадку відкривну дужку потрібно замінити на двокрапку (:), а закривну — на endif;, endwhile; тощо відповідно.

Наприклад, синтаксис оператора if можна записати так:
```
if(вираз): блок_виконання endif;
```
Сенс залишається тим самим: якщо умова, записана в круглих дужках оператора if, істинна, буде виконано весь код від двокрапки ":" до команди endif;. Використання такого синтаксису корисне при вбудовуванні PHP у HTML-код.

```php
<?php  
$names = array("Іван","Петро","Семен");  
if ($names[0]=="Іван"):  
?>  
Привіт, Ваня!  
<?php  
endif;  
?>
```

Якщо використовуються конструкції else та elseif, то також можна застосувати альтернативний синтаксис:

```php
<?php  
$a=1;  
if ($a == 5):  
    print "a дорівнює 5";  
    print "...";  
elseif ($a == 6):  
    print "a дорівнює 6";  
    print "!!!";  
else:  
    print "a не дорівнює ані 5, ані 6";  
endif;  
?>
```

## Оператор switch
Ще одна конструкція, що дозволяє перевіряти умову й виконувати різні дії залежно від цього, — це switch. Українською назву цього оператора можна перекласти як "перемикач". І сенс у нього саме такий. Залежно від того, яке значення має змінна, він перемикається між різними блоками дій. switch дуже схожий на оператор `if...elseif...else` або набір операторів if. Структуру switch можна записати так:

```php
switch (вираз або змінна){  
case значення1:  
    блок_дій1  
break;  
case значення2:  
    блок_дій2  
break;  
...  
default:  
    блок_дій_за_замовчуванням  
}  
```
На відміну від if, тут значення виразу не приводиться до логічного типу, а просто порівнюється зі значеннями, перерахованими після ключових слів case (значення1, значення2 тощо). Якщо значення виразу збіглося з якимось варіантом, то виконується відповідний блок_дій — від двокрапки після збіглого значення до кінця switch або до першого оператора break, якщо такий є. Якщо значення виразу не збіглося з жодним із варіантів, то виконуються дії за замовчуванням (блок_дій_за_замовчуванням), що виконуються після ключового слова default. Вираз у switch обчислюється лише один раз, а в операторі elseif — кожного разу, тому якщо вираз досить складний, то switch працює швидше.

```php
<?php
$names = array("Іван","Петро","Семен"); 
switch ($names[0]){
case "Іван": 
    echo "Привіт, Ваня!";
break;
case "Петро":
    echo "Привіт, Петя!";
break;
case "Семен":
    echo "Привіт, Сеня!";
break;
default:
    echo "Привіт, $names[0]. А як Вас звати?";
}
?>
```

Якщо в цьому прикладі опустити оператор `break`, наприклад, у case "Петро":, то, якщо змінна буде дорівнювати рядку "Петро", після виведення на екран повідомлення "Привіт, Петя!" програма продовжить виконуватися далі і виведе також повідомлення "Привіт, Сеня!" і тільки потім, зустрівши `break`, завершить виконання `switch`.

Для конструкції `switch`, як і для if, можливий альтернативний синтаксис, де відкривну фігурну дужку заміняють двокрапкою, а закривну — на `endswitch`; відповідно.