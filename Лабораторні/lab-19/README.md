[Перелік усіх робіт](README.md)

# Лабораторна робота №19. Створення системи маршрутизації

## Мета роботи

Навчитися працювати з моделями, розділяти проєкт на структурні частини, використовувати файли конфігурації для збереження налаштувань проекту.

## Обладнання

Персональний комп'ютер. Пакет програм XAMPP. Текстовий редактор Sublime Text 3 або IDE NetBeans. Web-браузер Chrome, Firefox, Opera

## Теоретичні відомості


Створення базового класу моделі має кілька переваг у розробці програмного забезпечення:

1. Герметизація логіки роботи з даними: Базовий клас моделі дозволяє визначити основні операції роботи з даними (створення, читання, оновлення, видалення) в одному місці. Це спрощує розробку та забезпечує єдиний інтерфейс для роботи з різними моделями даних.
2. Підтримка спільного функціоналу: У базовому класі можна реалізувати загальний функціонал, який може бути спільним для всіх моделей. Наприклад, це може бути логіка валідації, перетворення даних або обробка помилок.
3. Зручність в управлінні зв'язками: Якщо ваша програма використовує зв'язки між об'єктами (наприклад, відносини багато-до-багатьох), базовий клас може включати методи для роботи з цими зв'язками, що полегшує їх управління.
4. Зменшення дублювання коду: Багато моделей може мати схожий або ідентичний код для базових операцій. Загальний клас дозволяє уникнути дублювання коду та спростити його розширення та підтримку.
5. Зручність у впровадженні змін: Якщо вам потрібно змінити спосіб обробки даних або додати новий функціонал, це можна зробити в базовому класі, і ці зміни автоматично розповсюдяться на всі його підкласи.
6. Спрощення тестування: Загальний клас сприяє легкості тестування, оскільки можна створити загальні тести для базового функціоналу, а потім використовувати їх для всіх моделей.
7. Легше впровадження стандартів і патернів: Використання базового класу може спростити впровадження стандартів коду або використання патернів проектування, таких як MVC (Модель-Вид-Контролер).

Загально кажучи, базовий клас моделі дозволяє створити єдиний стандарт для роботи з даними в вашому додатку, полегшуючи його розробку та обслуговування.

### Маршрутизація

Маршрутизація (routing) - це процес визначення того, як запити користувача будуть оброблятися вашим веб-додатком. В контексті веб-фреймворків, таких як Laravel, Symfony, Django чи Express.js, маршрутизація визначає, як запити, отримані сервером, повинні бути маршрутизовані до конкретних обробників (контролерів або функцій), які відповідають за обробку цих запитів.

Основні аспекти маршрутизації включають в себе:

- Маршрути: Визначення шляхів (URL-адрес) та визначення того, які дії повинні бути викликані для кожного конкретного шляху. Наприклад, шлях /about може відповідати дії виведення інформації про сторінку "Про нас".

- Параметри маршруту: Можливість визначати змінні в шляхах, які можуть слугувати параметрами для обробників. Наприклад, /users/{id} може визначати маршрут для отримання користувача за його ID.

- HTTP методи: Визначення того, які HTTP-методи (GET, POST, PUT, DELETE, і т.д.) використовуються для взаємодії з конкретним маршрутом. Наприклад, маршрут /create може бути призначений для створення нового ресурсу через HTTP-запит POST.

- Обробники (контролери): Методи або класи, які виконують певні дії для обробки запитів, визначених в маршрутах. Це можуть бути функції або класи-контролери, які відповідають за обробку певних розділів логіки вашого додатку.

- Підтримка RESTful API: Маршрутизація може підтримувати RESTful архітектурні принципи, включаючи роботу з ресурсами, використання HTTP-методів для взаємодії з цими ресурсами, і підтримку параметрів запитів.

Загалом, маршрутизація дозволяє вам логічно організувати ваш веб-додаток і визначити, як різні запити повинні бути оброблені і відображені.

## Хід роботи
1. Впевнитись, що пакет XAMPP встановлено та web-сервер Apache запущений
2. Перейти до каталогу `C:\xampp\htdocs\` та очистити його
3.  Розгляньте ще раз попередню лабораторну роботу. Виявіть недоліки у вирішенні поставленої задачі.
4.  Розгляньте приклад за посиланням, поданим нижче.
5.  Зробіть рефакторінг коду минулого проекту:
    1.  Використовуючи, як основу, проект попередньої лабораторної роботи виконайте вдосконалення
    2.  Зверніть увагу на папку `core` та файл `Router.php` в оновленому проекті.
    3.  Порівняйте зміст файлу index.php з попереднім проектом, зробіть висновок про призначення та принцип роботи файла маршрутизації.
    4.  Модифікуйте свій проект відповідно до прикладу. Для кожної дії на вашому сайті створіть окремий метод у відповідному класі контроллера.
    5.  Перевірте коректність роботи проекту після рефакторінгу.
    6.  Впевніться, що авторизація на сайті продовжує працювати.
6.  Для проекту створіть папку "lab 19" в своєму репозиторії "web-progr" на Github. Завантажте кінцеві файли лабораторної роботи. 
7.  Для кожного етапу роботи зробіть знімки екрану та додайте їх у звіт з описом кожного скіншота
8.  Додайте програмний код завдання для самомтійного виконання
9.  Дайте відповіді на контрольні запитання
10. Додайте в кінці звіту посилання на репозиторій та папку з лабораторною роботою
11. Збережіть звіт у форматі PDF
12. Додайте звіт до репозиторія

## Приклади

1. [Приклад 1. Папка проекту](src/lab-19/)


## Контрольні питання
1. Що таке маршрутизація в контексті веб-розробки?
2. Які основні елементи маршрутизації в PHP-роутері, який ти надав, і що вони роблять?
3. Як можна визначити новий маршрут у роутері? Які параметри приймає цей метод?
4. Що таке параметри маршруту, і як вони використовуються в роутері?
5. Чому важливо мати підтримку різних HTTP-методів у маршрутизації?
6. Які переваги може надати використання класів-контролерів в роутері замість безіменних функцій?
7. Що робить метод handleRequest у роутері, і чому він важливий?
8. Як можна передати параметри конструктору класу контролера через роутер?
9. Як можна вдосконалити цей роутер для обробки винятків, таких як помилка 404?
10. Що робить функція addRoute у роутері, і які аргументи вона приймає?

## Довідники та додаткові матеріали

1. [Объекты данных PHP](https://www.php.net/manual/ru/book.pdo.php)
2. [PHP + PDO. Работа с MySQL](https://www.youtube.com/watch?v=a9l3QPMqZ1Q)
3. [PHP md5()](https://www.php.net/manual/ru/function.md5.php)
4. [Функции Hash](https://www.php.net/manual/ru/ref.hash.php)
5. [Session Handling](https://www.php.net/manual/en/book.session.php)
6. [PHP Sessions](https://www.w3schools.com/php/php_sessions.asp)

## Альтернатвні теми за варіантами

Варіяант для виконання самостійних завдань

1. Каталог товарів продуктового магазину
2. Каталог книг у бібліотеці
3. Дошка оголошень
4. Фотогалерея
5. Каталог запчастин автомобілів
6. Індивідуальний електронний записник
7. Каталог рієлтора
8. Каталог бази будівельних матеріалів
9. Власний блог
10. Розклад маршрутів автовокзалу